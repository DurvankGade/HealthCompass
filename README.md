# HealthCompass: A Chronic Patient Risk Prediction Engine

For healthcare professionals managing patients with chronic conditions, identifying who is at the greatest risk of a sudden health decline can be a significant challenge. HealthCompass is a web application designed to address this problem by using machine learning to predict patient risk, allowing for proactive and timely care.

[![Streamlit App](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://healthcompass.streamlit.app/)

---

## About The Project

This project is built around a predictive model that helps clinicians look ahead, providing a 90-day forecast of a patient's risk of deterioration. By analyzing recent health data, the tool generates a simple risk score and a set of clear, actionable recommendations. The goal is to move from reactive to proactive care, giving providers the insights they need to intervene before a critical event occurs.

The application offers:

*   **An Intuitive Interface**: Patient data can be entered easily using simple sliders and dropdown menus.
*   **Instant Risk Scoring**: The model immediately returns a risk score from 0 to 100, providing a quick assessment.
*   **Clear Risk Stratification**: Patients are categorized as **Low**, **Medium**, or **High Risk**, with colors to match, making the results easy to interpret at a glance.
*   **Actionable Clinical Guidance**: Based on the risk level, the app suggests concrete next steps, from routine monitoring to scheduling an urgent consultation.
*   **Key Risk Factor Identification**: The tool highlights which factors, like poor medication adherence or a rising blood pressure trend, are most influential in a patient's risk score.

---

## Built With

This project was brought to life using a combination of data science and web development tools:

*   **Data Science & Modeling**: Python, Pandas, NumPy
*   **Machine Learning**: XGBoost, Scikit-learn
*   **Model Interpretation**: SHAP
*   **Web Application**: Streamlit
*   **Model Serialization**: Joblib, JSON

---

## Repository Structure

Here's a look at the key files in this project and what they do:

```
.
├── Main_Notebook.ipynb       # The Jupyter Notebook where the data is explored, features are engineered, and the model is trained.
├── app.py                    # The Python script that powers the interactive Streamlit web application.
├── data.py                   # A script to generate the synthetic patient dataset used for training.
├── dataset.csv               # The synthetic dataset generated by data.py.
├── model_columns.json        # A configuration file that ensures the model receives data in the correct order.
├── requirements.txt          # A list of the Python libraries needed to run the project.
├── chronic_patient_risk_model.joblib # The final, trained XGBoost model, ready for use.
└── README.md                 # This file, providing an overview of the project.
```

---

## How It Works

The project follows a standard machine learning workflow, from data creation to deployment:

1.  **Data Generation (`data.py`)**: To train our model, we first needed data. This script creates a realistic, synthetic dataset simulating the daily health metrics of 200 patients over a 180-day period. It accounts for different patient types ('stable', 'unstable', 'declining') to ensure a diverse training set.

2.  **Model Training (`Main_Notebook.ipynb`)**: This notebook is the heart of the analytical work.
    *   **Feature Engineering**: We transform the daily time-series data into a meaningful, static snapshot for each patient. This involves creating features that describe a patient's recent 30-day health, such as average heart rate, the stability of their blood pressure (standard deviation), and the trend of their glucose levels (slope).
    *   **Training**: An XGBoost Classifier is trained on this engineered data to learn the patterns that precede a health deterioration event.
    *   **Evaluation & Saving**: The model is tested to ensure its predictive accuracy. Once finalized, the trained model and its required column structure are saved to disk, creating the `chronic_patient_risk_model.joblib` and `model_columns.json` files.

3.  **Streamlit Application (`app.py`)**: This script takes the trained model and makes it accessible through a web browser.
    *   It loads the saved model and sets up the user interface with Streamlit's interactive widgets.
    *   When a user inputs a patient's data and clicks "Predict Risk," the app organizes that information into the format the model expects.
    *   It then calls the model to get a prediction, translates that into the final risk score, and displays the result along with a recommended course of action.

---

## Getting Started Locally

If you'd like to run this application on your own machine, here are the steps:

1.  **Clone the Repository**
    ```bash
    git clone https://github.com/your-username/healthcompass.git
    cd healthcompass
    ```

2.  **Set Up a Virtual Environment** (This is a good practice to keep project dependencies separate)
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
    ```

3.  **Install the Required Libraries**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Run the Streamlit Application**
    ```bash
    streamlit run app.py
    ```    A new tab should open in your web browser, pointing to the application's local address.

---
